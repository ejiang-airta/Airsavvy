import json
"""
This script parses flight search results from a JSON response and displays the top 3 cheapest flights.

Modules:
    json: Provides functions for parsing JSON data.

Constants:
    response_json (str): A string containing the JSON response from a flight search query.

Functions:
    main(): Main function that loads the JSON data, extracts flight information, and displays the top 3 cheapest flights.

Usage:
    Run the script to see the top 3 cheapest flight options from the provided JSON response.

Example:
    $ python parse_search_results.py

Output:
    Top 3 Cheapest Flights:

    Option 1:
    - Airline: Multiple airlines
    - Type: Connecting
    - Price: $170
    - Duration: 1d 5h+
    - Booking URL: https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoeEgoyMDI1LTAzLTExagcIARIDU0ZPcgcIARIDSkZLGh4SCjIwMjUtMDMtMTdqBwgBEgNKRktyBwgBEgNTRk96aENqUklkRVo0Y1hSS2VGTkhUM2RCUWtOMFVVRkNSeTB0TFMwdExTMHRMVzk1WTJsc04wRkJRVUZCUjJVeFVuRmpUMDVDVUhkQkVnSmpLaG9MQ09pRUFSQUNHZ05WVTBRNE1IRG9oQUU9&ved=1t:2773&ictx=111

    Option 2:
    - Airline: JetBlue
    - Type: Nonstop
    - Price: $197
    - Duration: 5h 17m
    - Booking URL: https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJCNmoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJCNmoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOdVFqWWFDd2owbVFFUUFob0RWVk5FT0RCdzlKa0I&ved=1t:2773&ictx=111

    Option 3:
    - Airline: Frontier
    - Type: Connecting
    - Price: $210
    - Duration: 1d 5h+
    - Booking URL: https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJGOWoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJGOWoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOalJqa2FDd2lJcEFFUUFob0RWVk5FT0RCd2lLUUI&ved=1t:2773&ictx=111
"""

# Paste the response JSON here
response_json = '''{"results":[{"content":{"url":"https://www.google.com/search?q=Flights+from+SFO+to+JFK+on+March+11,+2025&uule=w+CAIQICINdW5pdGVkIHN0YXRlcw&gl=us&hl=en","page":1,"results":{"paid":[],"flights":{"to":"New York, NY (JFK)","from":"San Francisco, CA (SFO)","date_to":"Mon, Mar 17","results":[{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoeEgoyMDI1LTAzLTExagcIARIDU0ZPcgcIARIDSkZLGh4SCjIwMjUtMDMtMTdqBwgBEgNKRktyBwgBEgNTRk96aENqUklkRVo0Y1hSS2VGTkhUM2RCUWtOMFVVRkNSeTB0TFMwdExTMHRMVzk1WTJsc04wRkJRVUZCUjJVeFVuRmpUMDVDVUhkQkVnSmpLaG9MQ09pRUFSQUNHZ05WVTBRNE1IRG9oQUU9&ved=1t:2773&ictx=111","type":"Connecting","price":"$170","airline":"Multiple airlines","duration":"1d 5h+"},{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJCNmoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJCNmoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOdVFqWWFDd2owbVFFUUFob0RWVk5FT0RCdzlKa0I&ved=1t:2773&ictx=111","type":"Nonstop","price":"$197","airline":"JetBlue","duration":"5h 17m"},{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJGOWoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJGOWoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOalJqa2FDd2lJcEFFUUFob0RWVk5FT0RCd2lLUUI&ved=1t:2773&ictx=111","type":"Connecting","price":"$210","airline":"Frontier","duration":"1d 5h+"},{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJETGoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJETGoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOdVJFd2FDd2lzc1FFUUFob0RWVk5FT0RCd3JMRUI&ved=1t:2773&ictx=111","type":"Nonstop","price":"$227","airline":"Delta","duration":"5h 20m"}],"date_from":"Tue, Mar 11","pos_overall":1},"organic":[{"pos":1,"url":"https://www.expedia.com/lp/flights/sfo/jfk/san-francisco-to-new-york","desc":"Cheap Flights from San Francisco (SFO) to New York (JFK) start at $70 for one-way and $140 for round trip. Earn your airline miles on top of our rewards!","title":"Cheap Flights from San Francisco to New York (SFO-JFK)","url_shown":"https://www.expedia.com› ... › Flights to New York","pos_overall":2,"favicon_text":"Expedia.com"},{"pos":2,"url":"https://www.google.com/travel/flights/flights-from-san-francisco-to-new-york.html","desc":"Flight suggestions are based on an airline's cheapest round-trip fares from San Francisco to New York in the next 3 months. ... $700. 38 weekly nonstop flights.","title":"Find Cheap Flights from San Francisco to New York","url_shown":"https://www.google.com› Flights › From San Francisco","pos_overall":3,"favicon_text":"Google"},{"pos":3,"url":"https://www.kayak.com/flight-routes/San-Francisco-SFO/New-York-John-F-Kennedy-Intl-JFK","desc":"If you are looking for a flight deal from San Francisco to New York John F Kennedy Airport, look for departures on Wednesdays and avoid leaving on a Sunday, ...","title":"Cheap Flight Deals from San Francisco to John F Kennedy ...","url_shown":"https://www.kayak.com› ... › New York","pos_overall":4,"favicon_text":"Kayak","additional_info":["Starting from $57.00"]},{"pos":4,"url":"https://www.flights.com/lp/flights/sfo/jfk/san-francisco-to-new-york","desc":"Find our cheapest flights from SFO to JFK, we've got you covered here at Flights.com. We present you with some of the most affordable deals on airfare.","title":"SFO to JFK: San Francisco to New York Flights","url_shown":"https://www.flights.com› flights › san-francisco-to-new...","pos_overall":5,"favicon_text":"Flights.com"},{"pos":5,"url":"https://www.skyscanner.com/routes/sfo/jfk/san-francisco-international-to-new-york-john-f-kennedy.html","desc":"The best round-trip flight from San Francisco International to New York John F. Kennedy? Find the lowest prices on one-way and round-trip tickets right here.","title":"Cheap Flights from San Francisco International (SFO) to ...","url_shown":"https://www.skyscanner.com› routes › sfo › jfk › san-f...","pos_overall":6,"favicon_text":"skyscanner.com","additional_info":["Starting from $62.00"]},{"pos":6,"url":"https://www.travelocity.com/lp/flights/sfo/jfk/san-francisco-intl-to-john-f-kennedy-intl","desc":"The cheapest flights to John F. Kennedy Intl. found within the past 7 days were $140 round trip and $70 one way. Prices and availability subject to change.","title":"Flights from San Francisco Intl. to John F. Kennedy Intl.","url_shown":"https://www.travelocity.com› flights › sfo › jfk › san-f...","pos_overall":7,"favicon_text":"Travelocity.com"},{"pos":7,"url":"https://www.aa.com/en-us/flights-from-san-francisco-to-new-york","desc":"Updated: 3 minutes ago. Round trip. I. Economy. See Latest Fare. San Francisco (SFO)to. New York (JFK). 03/11/25 - 03/18/25. from. $209*. Updated: 3 minutes ago.","title":"Find San Francisco to New York flights","url_shown":"https://www.aa.com› ... › Flights to United States","pos_overall":8,"favicon_text":"American Airlines","additional_info":["Starting from $243.00"]},{"pos":8,"url":"https://www.google.com/travel/flights/flights-from-san-francisco.html?gl=US&hl=en-US","desc":"Use Google Flights to plan your next trip and find cheap one way or round trip flights from San Francisco to anywhere in the world.","title":"Find Cheap Flights from San Francisco","url_shown":"https://www.google.com› travel › flights-from-san-fra...","pos_overall":9,"favicon_text":"Google"},{"pos":9,"url":"https://www.kayak.com/flight-routes/San-Francisco-SFO/New-York-NYC","desc":"Fly from San Francisco to New York on Frontier from $57... Search for New York flights on KAYAK now to find the best deal.","title":"Cheap Flight Deals from San Francisco to New York (SFO- ...","url_shown":"https://www.kayak.com› ... › New York State","pos_overall":11,"favicon_text":"Kayak","additional_info":["Starting from $57.00"]},{"pos":10,"url":"https://www.expedia.com/lp/flights/sfo/lga/san-francisco-to-new-york","desc":"Cheap Flights from San Francisco (SFO) to New York (LGA) start at $76 for one-way and $140 for round trip. Earn your airline miles on top of our rewards!","title":"Cheap Flights from San Francisco to New York (SFO-LGA)","url_shown":"https://www.expedia.com› ... › Flights to New York","pos_overall":12,"favicon_text":"Expedia.com"}],"instant_answers":[{"type":"flights_schedule","_parsed":true,"content":{"to":"New York, NY (JFK)","from":"San Francisco, CA (SFO)","date_to":"Mon, Mar 17","results":[{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoeEgoyMDI1LTAzLTExagcIARIDU0ZPcgcIARIDSkZLGh4SCjIwMjUtMDMtMTdqBwgBEgNKRktyBwgBEgNTRk96aENqUklkRVo0Y1hSS2VGTkhUM2RCUWtOMFVVRkNSeTB0TFMwdExTMHRMVzk1WTJsc04wRkJRVUZCUjJVeFVuRmpUMDVDVUhkQkVnSmpLaG9MQ09pRUFSQUNHZ05WVTBRNE1IRG9oQUU9&ved=1t:2773&ictx=111","type":"Connecting","price":"$170","airline":"Multiple airlines","duration":"1d 5h+"},{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJCNmoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJCNmoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOdVFqWWFDd2owbVFFUUFob0RWVk5FT0RCdzlKa0I&ved=1t:2773&ictx=111","type":"Nonstop","price":"$197","airline":"JetBlue","duration":"5h 17m"},{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJGOWoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJGOWoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOalJqa2FDd2lJcEFFUUFob0RWVk5FT0RCd2lLUUI&ved=1t:2773&ictx=111","type":"Connecting","price":"$210","airline":"Frontier","duration":"1d 5h+"},{"url":"https://www.google.com/travel/flights?sca_esv=51820eb063a51d19&gl=us&hl=en&source=flun&uitype=cuAA&curr=USD&ep=CAE&tfs=CAEQAhoiEgoyMDI1LTAzLTExMgJETGoHCAESA1NGT3IHCAESA0pGSxoiEgoyMDI1LTAzLTE3MgJETGoHCAESA0pGS3IHCAESA1NGT3poQ2pSSWRFWjRjWFJLZUZOSFQzZEJRa04wVVVGQ1J5MHRMUzB0TFMwdExXOTVZMmxzTjBGQlFVRkJSMlV4VW5GalQwNUNVSGRCRWdOdVJFd2FDd2lzc1FFUUFob0RWVk5FT0RCd3JMRUI&ved=1t:2773&ictx=111","type":"Nonstop","price":"$227","airline":"Delta","duration":"5h 20m"}],"date_from":"Tue, Mar 11","pos_overall":1},"pos_overall":1}],"related_searches":{"pos_overall":13,"related_searches":["Flights from sfo to jfk on march 11 2025 today","Delta flights from sfo to jfk on march 11 2025","sfo to jfk one-way","SFO to JFK round trip","SFO to JFK today","SFO to New York","SFO to jfk flight status today","JetBlue SFO to JFK"]},"related_questions":{"items":[{"pos":1,"answer":"“Generally,” explains Bennett, “the further you plan to travel, the further out you should plan your travel.” With this in mind, she tells Travel + Leisure that “U.S. travelers planning domestic or North American vacations should aim to book flights between two weeks to two months in advance to get the best fares.”4 hours ago","source":{"url":"https://www.travelandleisure.com/travel-tips/when-to-book-flights-for-cheapest-airfare#:~:text=%E2%80%9CGenerally%2C%E2%80%9D%20explains%20Bennett%2C,to%20get%20the%20best%20fares.%E2%80%9D","title":"When Is the Best Time to Book a Flight for Travel? - Travel + Leisure","url_shown":"Travel + Leisure"},"question":"How far in advance should I book a flight to NYC?"},{"pos":2,"answer":"Fly in March The cheapest time to fly to New York is currently March.","source":{"url":"https://www.skyscanner.com/flights/flights-to-region/44294285/cheap-flights-to-new-york.html#:~:text=Fly%20in%20March,New%20York%20is%20currently%20March.","title":"Cheap Flights to New York from $31 in 2025 - Skyscanner","url_shown":"Skyscanner"},"question":"What is the cheapest month to fly to New York?"},{"pos":3,"answer":"The sweet spot for booking a flight is about 1–3 months for domestic flights and 2–8 months for international flights. You could book even earlier, as flights release bookings just under a year ahead of time.","source":{"url":"https://www.chase.com/personal/credit-cards/education/basics/how-far-in-advance-can-you-book-a-flight#:~:text=The%20sweet%20spot%20for%20booking,a%20year%20ahead%20of%20time.","title":"How Far in Advance Can You Book a Flight? - Chase Bank","url_shown":"Chase Bank"},"question":"How far in advance are flights available?"},{"pos":4,"answer":"✔️ Use the interactive calendar available on Expedia to see the cheapest United (San Francisco SFO - New York JFK) ticket prices during the weeks surrounding your travel dates. Compare flight prices for similar timeframes and adjust departure and return dates to get the cheapest fare possible.","source":{"url":"https://www.expedia.com/lp/flight-routes/united-from-san-francisco-intl-to-john-f-kennedy-intl/ua/sfo/jfk#:~:text=%E2%9C%94%EF%B8%8F%20Use%20the%20interactive%20calendar,get%20the%20cheapest%20fare%20possible.","title":"Cheap United flights San Francisco (SFO) to New York (JFK)","url_shown":"Expedia.com"},"question":"Does United Airlines fly from SFO to JFK?"}],"pos_overall":10},"search_information":{"query":"Flights from SFO to JFK on March 11, 2025","showing_results_for":"Flights from SFO to JFK on March 11, 2025","total_results_count":1520000},"total_results_count":1520000},"last_visible_page":10,"parse_status_code":12000},"created_at":"2025-02-19 02:49:11","updated_at":"2025-02-19 02:49:12","page":1,"url":"https://www.google.com/search?q=Flights+from+SFO+to+JFK+on+March+11,+2025&uule=w+CAIQICINdW5pdGVkIHN0YXRlcw&gl=us&hl=en","job_id":"7297809414092763137","is_render_forced":false,"status_code":200,"parser_type":""}],"job":{"callback_url":null,"client_id":98934,"context":[{"key":"force_headers","value":false},{"key":"force_cookies","value":false},{"key":"hc_policy","value":true},{"key":"results_language","value":null},{"key":"safe_search","value":null},{"key":"tbm","value":null},{"key":"cr","value":null},{"key":"filter","value":null},{"key":"nfpr","value":null},{"key":"tbs","value":null},{"key":"fpstate","value":null},{"key":"aomd","value":null},{"key":"udm","value":null},{"key":"limit_per_page","value":[]}],"created_at":"2025-02-19 02:49:11","domain":"com","geo_location":null,"id":"7297809414092763137","limit":10,"locale":null,"pages":1,"parse":true,"parser_type":null,"parsing_instructions":null,"browser_instructions":null,"render":null,"url":null,"query":"Flights from SFO to JFK on March 11, 2025","source":"google_search","start_page":1,"status":"done","storage_type":null,"storage_url":null,"subdomain":"www","content_encoding":"utf-8","updated_at":"2025-02-19 02:49:12","user_agent_type":"desktop","session_info":null,"statuses":[],"client_notes":null,"_links":[{"rel":"self","href":"http://data.oxylabs.io/v1/queries/7297809414092763137","method":"GET"},{"rel":"results","href":"http://data.oxylabs.io/v1/queries/7297809414092763137/results","method":"GET"},{"rel":"results-content","href_list":["http://data.oxylabs.io/v1/queries/7297809414092763137/results/1/content"],"method":"GET"},{"rel":"results-html","href":"http://data.oxylabs.io/v1/queries/7297809414092763137/results?type=raw","method":"GET"},{"rel":"results-content-html","href_list":["http://data.oxylabs.io/v1/queries/7297809414092763137/results/1/content?type=raw"],"method":"GET"},{"rel":"results-parsed","href":"http://data.oxylabs.io/v1/queries/7297809414092763137/results?type=parsed","method":"GET"},{"rel":"results-content-parsed","href_list":["http://data.oxylabs.io/v1/queries/7297809414092763137/results/1/content?type=parsed"],"method":"GET"}]}}'''

# Load JSON data
data = json.loads(response_json)

# Extract flights data
flights = data["results"][0]["content"]["results"]["flights"]["results"]

# Display top 3 results
print("\nTop 3 Cheapest Flights:\n")
for i, flight in enumerate(flights[:3], 1):
    print(f"Option {i}:")
    print(f"- Airline: {flight['airline']}")
    print(f"- Type: {flight['type']}")
    print(f"- Price: {flight['price']}")
    print(f"- Duration: {flight['duration']}")
    print(f"- Booking URL: {flight['url']}\n")
